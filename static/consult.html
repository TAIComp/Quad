<!-- File: static/consult.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>AI Expert Consultation</title>
    <link rel="stylesheet" href="styles.css">
    <!-- Add favicon -->
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <!-- Add apple touch icon -->
    <link rel="apple-touch-icon" href="favicon.ico">
    <!-- Add manifest -->
    <link rel="manifest" href="manifest.json">
    <!-- Add theme color -->
    <meta name="theme-color" content="#ffffff">
    <!-- Add WebRTC VAD and Meyda libraries -->
    <script src="https://cdn.jsdelivr.net/npm/meyda@5.6.1/dist/web/meyda.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/voice-activity-detection@0.0.5/voice-activity-detection.min.js"></script>
</head>
<body>
    <!-- Mission Container (Initially Visible) -->
    <div id="missionContainer" class="mission-container">
        <div class="video-wrapper">
            <video id="missionVideo" class="mission-video" autoplay>
                <source src="./video.mp4" type="video/mp4">
                Your browser does not support the video tag.
            </video>
            <div class="skip-button-wrapper">
                <button id="skipButton" class="skip-button">
                    <span class="skip-text">Skip Introduction</span>
                    <span class="skip-icon">â†’</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Consult Container (Initially Hidden) -->
    <div id="consultContainer" class="consult-container" style="display: none;">
        <h1>Talk to an AI Expert</h1>
        
        <!-- Status and Recording Indicator -->
        <div class="interaction-status">
            <div id="status" class="status-message">Initializing...</div>
            <div id="recordingIndicator" class="recording-indicator">
                <div class="pulse-ring"></div>
                <span class="status-text">Listening...</span>
            </div>
        </div>

        <!-- Conversation Display -->
        <div id="conversation" class="conversation-container">
            <!-- Messages will be added here dynamically -->
        </div>

        <!-- Audio Player for AI Response -->
        <audio id="responseAudio" style="display: none;"></audio>

        <canvas id="nodeCanvas"></canvas>
        
        <div class="blob-container">
            <!-- ... existing blobs ... -->
        </div>
    </div>

    <!-- JavaScript Files -->
    <script src="js/navigationBar.js" type="module"></script>
    <script src="js/fadeOutTransitions.js" type="module"></script>
    <script src="js/particleAnimations.js" type="module"></script>
    <script src="js/login.js" type="module"></script>
    <script src="js/consultRoom.js" type="module"></script>
    <script src="js/missionVideo.js" type="module"></script>
    <script src="js/voiceInteraction.js" type="module"></script>
    <script src="js/main.js" type="module"></script>
</body>
</html>
